(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1125:function(e,t,a){},1126:function(e,t,a){},1127:function(e,t,a){},1128:function(e,t,a){},1129:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(24),r=a.n(c),o=a(17),i=a(6),s=a(7),d=a(10),u=a(9),p=(a(54),a(55),a(3)),m=(a(32),function(e){return l.a.createElement("div",{className:"main-alert"},l.a.createElement("div",{className:"footer"}),l.a.createElement("div",{className:"alert-box"},l.a.createElement("p",{className:"p-header"},"You are signing out"),l.a.createElement("p",null,"You are about to sign out. Are you sure ?"),l.a.createElement("div",{className:"alert-buttons"},l.a.createElement("button",{className:"cancel-button",id:"close",onClick:e.hide},"CANCEL"),l.a.createElement("button",{className:"delete-button",onClick:e.signOutAccepted},"SIGN OUT"))))}),h=function(e){return{type:"GET_PRODUCTS",payload:e}},E=function(e){return{type:"GET_TOTAL_PRICE",payload:e}},f=function(e,t){return{type:"EDIT_PRODUCT",product:e,editProductClicked:t}},g=function(e){return{type:"EDIT_PRODUCT_CLICKED",editProductClicked:e}},y=function(e){return{type:"EXPENSES_CLICKED",expensesClicked:e}},v=function(e){return{type:"TABLE_UPDATED",tableUpdated:e}},b=function(e){return{type:"SAVE_USER_NAME",userName:e}},N=a(21),C=a(45),P=a.n(C),S=a(5),k={products:[],tableUpdated:!1,totalPrice:"",productToEdit:"",editProductClicked:"",expensesClicked:!1,userName:""};var O=Object(N.c)({productReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(S.a)(Object(S.a)({},e),{},{products:t.payload});case"EDIT_PRODUCT":return Object(S.a)(Object(S.a)({},e),{},{productToEdit:t.product});case"EDIT_PRODUCT_CLICKED":return Object(S.a)(Object(S.a)({},e),{},{editProductClicked:t.editProductClicked});case"EXPENSES_CLICKED":return Object(S.a)(Object(S.a)({},e),{},{expensesClicked:t.expensesClicked});case"DELETE_PRODUCT":return Object(S.a)(Object(S.a)({},e),{},{products:e.products.filter((function(e){return e._id!==t.payload}))});case"GET_TOTAL_PRICE":return Object(S.a)(Object(S.a)({},e),{},{totalPrice:t.payload});case"TABLE_UPDATED":return Object(S.a)(Object(S.a)({},e),{},{tableUpdated:t.tableUpdated});case"SAVE_USER_NAME":return Object(S.a)(Object(S.a)({},e),{},{userName:t.userName});default:return e}}}),w=Object(N.d)(O,Object(N.a)(P.a)),j=a(18),_=a(8),D=a(47),T=a.n(D),x=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).expensesClicked=function(){w.dispatch(y(!n.state.expensesClicked))},n.productsClicked=function(){w.dispatch(y(n.state.expensesClicked))},n.signOutClicked=function(){n.setState({signOutClicked:!0})},n.hideSignOut=function(){n.setState({signOutClicked:!1})},n.signOutAccepted=function(){localStorage.clear(),localStorage.removeItem("jwt"),n.setState({signOut:!0})},n.state={expensesClicked:!1,signOut:!1,signOutClicked:!1,name:n.props.userName},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("first_name")+" "+localStorage.getItem("last_name");this.setState({name:e})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("jwt")?null:l.a.createElement(j.a,{to:"/"}),l.a.createElement("header",null,l.a.createElement("nav",{className:"nav"},l.a.createElement("div",{className:"buttons"},l.a.createElement(p.c,{to:"/products",className:"btn-links",onClick:this.productsClicked}," ","Products"),l.a.createElement(p.c,{to:"/expences",className:"btn-links",onClick:this.expensesClicked}," ","Expenses")),l.a.createElement("div",{className:"right-side"},l.a.createElement("img",{id:"profile-image",src:T.a.image.imageUrl(),alt:"profile"}),l.a.createElement("p",{id:"name-p"},this.state.name),l.a.createElement("p",{className:"sign-out"},l.a.createElement(p.b,{to:"#",onClick:this.signOutClicked},"Sign Out"))))),this.state.signOutClicked?l.a.createElement(m,{hide:this.hideSignOut,signOutAccepted:this.signOutAccepted}):null)}}]),a}(l.a.Component);var I=Object(_.b)((function(e){return{userName:e.productReducer.userName}}),(function(e){return{saveUserName:function(t){return e(b(t))}}}))(x),A=a(20),U=a(23),R=a(4),F=a.n(R),M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveProduct=function(e){n.setState(Object(o.a)({},e.target.id,e.target.value))},n.addNewProduct=function(e){""===n.state.name||""===n.state.description||""===n.state.type||""===n.state.date||""===n.state.price?(e.preventDefault(),alert("Please fill in the required fields:")):""===n.state.name&&""===n.state.description&&""===n.state.type&&""===n.state.date&&""===n.state.price||F.a.post("https://hidden-everglades-59214.herokuapp.com/app/v1/products/",{name:n.state.name,description:n.state.description,type:n.state.type,date:n.state.date,price:n.state.price,_created:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},n.editProduct=function(e){""===n.state.name||""===n.state.type||""===n.state.description||""===n.state.date||""===n.state.price?(alert("Please fill in the required fields:"),e.preventDefault()):(w.dispatch(v(!n.state.tableUpdated)),F.a.put("https://hidden-everglades-59214.herokuapp.com/app/v1/products/".concat(n.props.productToEdit._id),{name:n.state.name,type:n.state.type,description:n.state.description,date:n.state.date,price:n.state.price,_modified:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},n.state={name:n.props.editProductClicked?n.props.productToEdit.name:"",type:n.props.editProductClicked?n.props.productToEdit.type:"",description:n.props.editProductClicked?n.props.productToEdit.description:"",date:n.props.editProductClicked?n.props.productToEdit.date:"",price:n.props.editProductClicked?n.props.productToEdit.price:"",tableUpdated:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,null),this.props.editProductClicked?l.a.createElement("h1",{id:"new-products-h3"},"Edit Product"):l.a.createElement("h1",{id:"new-products-h3"},"New Product"),l.a.createElement("div",{className:"new-container"},l.a.createElement("div",{className:"first-container"},l.a.createElement("div",{id:"new-product"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"name"},"Product Name"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.name:"",type:"text",name:"name",className:"text-field",id:"name",onChange:this.saveProduct})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"description"},"Product Description"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.description:"",type:"text",name:"description",className:"text-field",id:"description",onChange:this.saveProduct})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"type"},"Product Type"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.type:"",type:"text",name:"type",className:"text-field",id:"type",onChange:this.saveProduct})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"date"},"Purchase Date"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.date.toString().slice(0,10):"",type:"date",name:"date",className:"text-field",id:"date",onChange:this.saveProduct})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"price"},"Product Price"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?Number(this.props.productToEdit.price):"",type:"text",name:"price",className:"text-field",id:"price",onChange:this.saveProduct})),l.a.createElement(p.b,{to:"/products"},this.props.editProductClicked?l.a.createElement("button",{onClick:this.editProduct,id:"primary-button",className:"primary-button",type:"submit"},"EDIT PRODUCT"):l.a.createElement("button",{onClick:this.addNewProduct,className:"primary-button",type:"submit"},"CREATE PRODUCT"))))),l.a.createElement("div",{className:"second-container"},l.a.createElement("div",{className:"products-add"},l.a.createElement(U.a,{icon:A.b,style:{color:"#8D8D8D"},size:"3x"}),this.props.editProductClicked?l.a.createElement("p",null,"You are editing a product"):l.a.createElement("p",null,"You are creating a new product")))))}}]),a}(l.a.Component);var L=Object(_.b)((function(e){return{productToEdit:e.productReducer.productToEdit,editProductClicked:e.productReducer.editProductClicked,tableUpdated:e.productReducer.tableUpdated}}))(M),V=(a(43),a(1125),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).deleteProduct=function(e){F.a.delete("https://hidden-everglades-59214.herokuapp.com/app/v1/products/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){console.log(t),w.dispatch({type:"DELETE_PRODUCT",payload:e}),n.setState({showModal:null})})).catch((function(e){console.log(e)}))},n.showAlert=function(e){n.setState({showModal:l.a.createElement("div",{className:"main-alert"},l.a.createElement("div",{className:"footer"}),l.a.createElement("div",{className:"alert-box"},l.a.createElement("p",{className:"p-header"},"Delete Product"),l.a.createElement("p",null,"You are about to delete this product. Are you sure you wish to continue? "),l.a.createElement("div",{className:"alert-buttons"},l.a.createElement("button",{onClick:function(){return n.setState({showModal:null})},className:"cancel-button",id:"close"},"CANCEL"),l.a.createElement("button",{onClick:function(){return n.deleteProduct(e)},className:"delete-button"},"DELETE"))))})},n.editProduct=function(e){var t=!n.state.editProductClicked;w.dispatch(f(e)),w.dispatch(g(t))},n.state={editProductClicked:!1,showModal:null},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=null;return this.props.products&&(t=this.props.products.map((function(t){return l.a.createElement("tr",{key:t._id},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.date.toString().slice(0,10)),l.a.createElement("td",null,t.price),e.props.showProducts?l.a.createElement("td",null,l.a.createElement(p.b,{to:"/edit-product"},l.a.createElement("button",{className:"btn-secondary",title:"Edit this product",id:"edit",onClick:function(){return e.editProduct(t)}},l.a.createElement(U.a,{icon:A.a}))),l.a.createElement("button",{className:"btn-danger",title:"Delete this product",id:"delete",onClick:function(){return e.showAlert(t._id)}},l.a.createElement(U.a,{icon:A.c}))):null)}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table-container"},this.state.showModal,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Product Type"),l.a.createElement("th",null,"Product Description"),l.a.createElement("th",null,"Purchase Date"),l.a.createElement("th",null,"Product Price"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t))))}}]),a}(l.a.Component));var z=Object(_.b)((function(e){return{products:e.productReducer.products,editProductClicked:e.productReducer.editProductClicked}}))(V),B=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).filterHandler=function(e){n.setState({didUpdate:!0,filterOption:e.target.value}),console.log(e.target.value)},n.newProductHandler=function(){n.setState({clicked:!0}),w.dispatch(g(n.state.clicked)),n.props.editProduct(n.state.product)},n.state={filterOption:null,didUpdate:!1,showProducts:!0,clicked:!1,product:null,loading:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.products&&(this.setState({loading:!0}),F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({loading:!1}),w.dispatch(h(t.data));for(var a=0,n=0;n<t.data.length;n++)a+=parseInt(t.data[n].price);e.props.getTotalPrice(a)})).catch((function(e){console.log(e)})))}},{key:"componentDidUpdate",value:function(){!0===this.state.didUpdate&&(null==this.state.filterOption?(F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){w.dispatch(h(e.data)),w.dispatch(v(!1))})).catch((function(e){console.log(e)})),this.setState({didUpdate:!1})):null!==this.state.filterOption&&(F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?sort=".concat(this.state.filterOption),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){w.dispatch(h(e.data)),w.dispatch(v(!1))})).catch((function(e){console.log(e)})),this.setState({didUpdate:!1,filterOption:null})))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,null),l.a.createElement("div",{className:"main-select-div"},l.a.createElement("div",{className:"select-div-header"},l.a.createElement("h1",null,"Products"),l.a.createElement("label",{htmlFor:"sort"},"Filter by:",l.a.createElement("select",{name:"filterOption",id:"sort",onChange:this.filterHandler},l.a.createElement("option",{value:"date:desc"},"Last Purchase"),l.a.createElement("option",{value:"date:asc"},"First Purchase"),l.a.createElement("option",{value:"price:desc"},"Highest Price"),l.a.createElement("option",{value:"price:asc"},"Lowest Price")))),l.a.createElement(z,{showProducts:this.state.showProducts})),l.a.createElement(p.b,{to:"/newproduct"},l.a.createElement("button",{id:"new-btn",onClick:this.newProductHandler},"NEW PRODUCT")),this.state.loading&&l.a.createElement("div",{style:{color:"grey",fontSize:"50px",textAlign:"center"}},"LOADING..."))}}]),a}(l.a.Component);var G=Object(_.b)((function(e){return{products:e.productReducer.products,tableUpdated:e.productReducer.tableUpdated}}),(function(e){return{getTotalPrice:function(t){return e(E(t))},editProduct:function(t){return e(f(t))}}}))(B),H=(a(1126),a(44),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveInputValue=function(e){n.setState(Object(o.a)({},e.target.id,e.target.value))},n.redirectToMain=function(){if(n.state.isAuthenticated)return l.a.createElement(j.a,{to:"/products"})},n.logIn=function(e){e.preventDefault(),F.a.post("https://hidden-everglades-59214.herokuapp.com/app/v1/auth/login",{email:n.state.email,password:n.state.password}).then((function(e){localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("first_name",e.data.first_name),localStorage.setItem("last_name",e.data.last_name),n.setState({isAuthenticated:!0,error:!1});var t=localStorage.getItem("first_name")+" "+localStorage.getItem("last_name");n.props.saveUserName(t)})).catch((function(e){n.setState({error:!0}),console.log(e)}))},n.state={email:"",password:"",isAuthenticated:!1,error:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.redirectToMain(),l.a.createElement("div",{id:"login"},l.a.createElement("div",{className:"box-container"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"email"},"E-mail"),l.a.createElement("input",{onChange:this.saveInputValue,type:"email",name:"email",id:"email",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"password"},"Password"),l.a.createElement("input",{onChange:this.saveInputValue,type:"password",name:"password",id:"password",className:"text-field"})),this.state.error&&l.a.createElement("div",{style:{color:"red",textAlign:"center"}},"Wrong email or password."),l.a.createElement("button",{className:"primary-button",type:"submit",onClick:this.logIn},"SIGN IN"))),l.a.createElement("div",{className:"aditional-info"},l.a.createElement("p",null,"Or if you don't have an account.",l.a.createElement(p.b,{to:"/register"},"Register")))))}}]),a}(l.a.Component));var Y=Object(_.b)((function(e){return{userName:e.productReducer.userName}}),(function(e){return{saveUserName:function(t){return e(b(t))}}}))(H),J=(a(1127),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveInputValue=function(e){n.setState(Object(o.a)({},e.target.id,e.target.value))},n.redirectToMain=function(){if(n.state.isAuthenticated)return l.a.createElement(j.a,{to:"/products"})},n.registerUser=function(e){null===n.state.first_name||null===n.state.last_name||null===n.state.email||null===n.state.date_of_birth||null===n.state.telephone||null===n.state.country||null===n.state.password?(e.preventDefault(),alert("Please fill in the required fields:")):null==n.state.first_name&&null==n.state.last_name&&null==n.state.email&&null==n.state.date_of_birth&&null==n.state.telephone&&null==n.state.country&&null==n.state.password||(e.preventDefault(),F.a.post("https://hidden-everglades-59214.herokuapp.com/app/v1/auth/register",{first_name:n.state.first_name,last_name:n.state.last_name,email:n.state.email,date_of_birth:n.state.date_of_birth,telephone:n.state.telephone,country:n.state.country,password:n.state.password,_created:new Date}).then((function(e){setTimeout((function(){F.a.post("https://hidden-everglades-59214.herokuapp.com/app/v1/auth/login",{email:n.state.email,password:n.state.password}).then((function(e){localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("first_name",n.state.first_name),localStorage.setItem("last_name",n.state.last_name),n.setState({isAuthenticated:!0})})).catch((function(e){console.log(e)}))}),1e3)})).catch((function(e){console.log(e)})))},n.state={first_name:null,last_name:null,email:null,date_of_birth:null,telephone:null,country:null,password:null,isAuthenticated:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.redirectToMain(),l.a.createElement("div",{id:"register"},l.a.createElement("div",{className:"box-container"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"first_name"},"First Name"),l.a.createElement("input",{onChange:this.saveInputValue,type:"text",id:"first_name",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"last_name"},"Last Name"),l.a.createElement("input",{onChange:this.saveInputValue,type:"text",id:"last_name",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"email"},"E-mail"),l.a.createElement("input",{onChange:this.saveInputValue,type:"email",id:"email",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"date_of_birth"},"Date of Birth"),l.a.createElement("input",{onChange:this.saveInputValue,type:"date",id:"date_of_birth",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"telephone"},"Telephone"),l.a.createElement("input",{onChange:this.saveInputValue,type:"text",id:"telephone",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"country"},"Country"),l.a.createElement("input",{onChange:this.saveInputValue,type:"text",id:"country",className:"text-field"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"password"},"Password"),l.a.createElement("input",{onChange:this.saveInputValue,type:"password",id:"password",className:"text-field"})),l.a.createElement("button",{onClick:this.registerUser,type:"submit",className:"primary-button"},"REGISTER"))),l.a.createElement("div",{className:"aditional-info"},l.a.createElement("p",null,"Or if you already have an account.",l.a.createElement(p.b,{to:"/"}," Sign in")))))}}]),a}(l.a.Component)),K=(a(1128),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).yearlySelect=function(){n.setState({monthlyDisplay:!1,yearlyDisplay:!0,active:!1,yearlySelected:"all",monthlySelected:null})},n.monthlySelect=function(){n.setState({yearlyDisplay:!1,monthlyDisplay:!0,active:!0,monthlySelected:"months",yearlySelected:null})},n.yearlySelectHandler=function(e){n.setState({yearlySelected:e.target.value})},n.monthlySelectHandler=function(e){n.setState({monthlySelected:e.target.value})},n.state={monthlyDisplay:!1,yearlyDisplay:!0,active:!1,monthlySelected:null,yearlySelected:null},n.year=(new Date).getFullYear()-20,n.years=Array.from(new Array(21),(function(e,t){return t+n.year})),n.months=["January","February","March","April","May","June","July","August","September","October","November","December"],n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({loading:!1}),w.dispatch(h(t.data));for(var a=0,n=0;n<t.data.length;n++)a+=parseInt(t.data[n].price);e.props.getTotalPrice(a),console.log("didMount")})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){var e=this;if("all"===this.state.yearlySelected)F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){w.dispatch(h(t.data));for(var a=0,n=0;n<t.data.length;n++)a+=parseInt(t.data[n].price);e.props.getTotalPrice(a)})).catch((function(e){console.log(e)}));else if(null==this.state.yearlySelected||4!==this.state.yearlySelected.length||this.state.monthlyDisplay){if("months"===this.state.monthlySelected)F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){w.dispatch(h(t.data));for(var a=0,n=0;n<t.data.length;n++)a+=parseInt(t.data[n].price);e.props.getTotalPrice(a)})).catch((function(e){console.log(e)}));else if(null!=this.state.monthlySelected&&null!=this.state.yearlySelected&&this.state.monthlyDisplay){var t;console.log("Vleze");for(var a=0;a<this.months.length;a++)this.state.monthlySelected===this.months[a]&&(t=a+1,1===a.toString().length&&(t="0"+t.toString()));console.log(t+"Month is");var n=new Date("".concat(this.state.yearlySelected,"-").concat(t,"-01 00:00:00.000")).getTime();console.log(t+"Month is");var l=new Date("".concat(this.state.yearlySelected,"-").concat(t,"-31 23:59:59.000")).getTime();console.log(n+" "+l),console.log(t+"Month is"),F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?date_from=".concat(n,"&date_to=").concat(l),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){w.dispatch(h(t.data));for(var a=0,c=0;c<t.data.length;c++)a+=parseInt(t.data[c].price);e.props.getTotalPrice(a),console.log(n+" "+l)})).catch((function(e){return console.log(e)}))}}else{var c=new Date("".concat(this.state.yearlySelected,"-01-01 00:00:00.000")).getTime(),r=new Date("".concat(this.state.yearlySelected,"-12-31 23:59:59.000")).getTime();console.log(c+" "+r),F.a.get("https://hidden-everglades-59214.herokuapp.com/app/v1/products/?date_from=".concat(c,"&date_to=").concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){w.dispatch(h(t.data));for(var a=0,n=0;n<t.data.length;n++)a+=parseInt(t.data[n].price);e.props.getTotalPrice(a)})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=l.a.createElement("select",{name:"year-select",className:"month-select",onChange:this.yearlySelectHandler},l.a.createElement("option",{defaultChecked:!0,value:"all"}," ALL"),this.years.map((function(e,t){return l.a.createElement("option",{key:"year".concat(t),value:e},e)}))),t=l.a.createElement("select",{name:"month-select",className:"month-select",onChange:this.monthlySelectHandler},l.a.createElement("option",{defaultChecked:!0,value:"months"},"Month"),this.months.map((function(e,t){return l.a.createElement("option",{key:"month".concat(t),value:e},e)}))),a=l.a.createElement("div",{className:"yearMonthly-div"},t,e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,null),l.a.createElement("div",{className:"main-select-div"},l.a.createElement("h1",{id:"expenses-h1"},"Expenses"),l.a.createElement("div",{className:"expenses-div"},l.a.createElement(p.b,{to:"#"},l.a.createElement("button",{className:this.state.active?"select-btn":"active-btn select-btn",onClick:this.yearlySelect},"Yearly")),l.a.createElement(p.b,{to:"#"},l.a.createElement("button",{className:this.state.active?"active-btn select-btn":"select-btn",onClick:this.monthlySelect},"Monthly")),l.a.createElement("div",{className:"select-div"},this.state.monthlyDisplay?l.a.createElement("label",{htmlFor:"month-select"},"Choose month and year:"):l.a.createElement("label",{htmlFor:"year-select"},"Choose year:"),this.state.monthlyDisplay?a:e)),l.a.createElement(z,null)),l.a.createElement("div",{className:"transparent-div"},l.a.createElement("p",null,"Total spent:",l.a.createElement("span",null,this.props.totalPrice)," den.")),this.state.loading&&l.a.createElement("div",{style:{color:"grey",fontSize:"50px",textAlign:"center"}},"LOADING..."))}}]),a}(l.a.Component));var q=Object(_.b)((function(e){return{totalPrice:e.productReducer.totalPrice}}),(function(e){return{getTotalPrice:function(t){return e(E(t))}}}))(K),W=document.getElementById("root"),X=function(){return l.a.createElement(p.a,null,l.a.createElement(j.d,null,l.a.createElement(j.b,{exact:!0,path:"/",component:Y}),l.a.createElement(j.b,{exact:!0,path:"/register",component:J}),l.a.createElement(j.b,{exact:!0,path:"/newproduct",render:function(){return l.a.createElement(L,null)}}),l.a.createElement(j.b,{exact:!0,path:"/products",render:function(){return l.a.createElement(G,null)}}),l.a.createElement(j.b,{exact:!0,path:"/edit-product",render:function(){return l.a.createElement(L,null)}}),l.a.createElement(j.b,{exact:!0,path:"/expences",render:function(){return l.a.createElement(q,null)}})))};r.a.render(l.a.createElement(_.a,{store:w},l.a.createElement(X,null)),W)},32:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){e.exports=a(1129)},54:function(e,t,a){},55:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.48ae8705.chunk.js.map